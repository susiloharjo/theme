generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model WidgetTemplate {
  id            String            @id @default(uuid())
  name          String
  type          String
  defaultConfig String?
  widgets       DashboardWidget[]

  @@map("widget_templates")
}

model DashboardWidget {
  id          String         @id
  dashboardId String         @map("dashboard_id")
  templateId  String         @map("template_id")
  x           Int?
  y           Int?
  w           Int?
  h           Int?
  config      String?
  template    WidgetTemplate @relation(fields: [templateId], references: [id])

  @@map("dashboard_widgets")
}

model Widget {
  id          String  @id
  dashboardId String  @map("dashboard_id")
  title       String?
  type        String?
  x           Int?
  y           Int?
  w           Int?
  h           Int?
  value       String?
  content     String?
  icon        String?
  color       String?

  @@map("widgets")
}
